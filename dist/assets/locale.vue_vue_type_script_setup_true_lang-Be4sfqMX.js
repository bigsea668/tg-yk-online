import{p as Re,M as q,_ as z,d as M,t as $,s as E,c as C,A as W,bX as Se,V,e as S,z as fe,aR as ke,r as K,W as _,o as T,h as L,i as f,a3 as h,bY as Oe,bZ as Pe,E as G,U as De,G as ve,v as Ne,a as oe,ad as Ke,ae as Be,C as Le,b as H,b4 as Me,m as j,n as X,$ as Q,K as me,X as x,a7 as Ae,ac as ee,J as ge,f as Ge,w as ze,g as _e,a4 as Ue,a2 as Ye,Y as Ve,Z as de}from"./index-SkQIWFxF.js";import{E as be}from"./el-button-CaCwkDis.js";/* empty css                        */import{n as P,a as He,E as Je,O as We,w as ue,F as je}from"./el-scrollbar-B_RdZN1g.js";import{I as Xe}from"./iconify-BwnrVFpF.js";import{c as Ze,E as qe,d as Qe,a as we,C as xe,b as eo,e as oo,f as no,g as to,F as lo,L as ro}from"./dropdown-v2PK5a7J.js";import{a as Ie,b as so}from"./use-form-item-OJvLHTB4.js";import{c as ao,a as he}from"./refs-C2TW7dIb.js";const io=Re({style:{type:q([String,Array,Object])},currentTabId:{type:q(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:q(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:uo,ElCollectionItem:co,COLLECTION_INJECTION_KEY:ne,COLLECTION_ITEM_INJECTION_KEY:po}=Ze("RovingFocusGroup"),te=Symbol("elRovingFocusGroup"),Ee=Symbol("elRovingFocusGroupItem"),fo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},vo=(e,t)=>e,mo=(e,t,i)=>{const n=vo(e.key);return fo[n]},go=(e,t)=>e.map((i,n)=>e[(n+t)%e.length]),le=e=>{const{activeElement:t}=document;for(const i of e)if(i===t||(i.focus(),t!==document.activeElement))return},ce="currentTabIdChange",pe="rovingFocusGroup.entryFocus",_o={bubbles:!1,cancelable:!0},bo=M({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:io,emits:[ce,"entryFocus"],setup(e,{emit:t}){var i;const n=$((i=e.currentTabId||e.defaultCurrentTabId)!=null?i:null),p=$(!1),d=$(!1),a=$(null),{getItems:r}=E(ne,void 0),c=C(()=>[{outline:"none"},e.style]),m=s=>{t(ce,s)},g=()=>{p.value=!0},b=P(s=>{var v;(v=e.onMousedown)==null||v.call(e,s)},()=>{d.value=!0}),I=P(s=>{var v;(v=e.onFocus)==null||v.call(e,s)},s=>{const v=!S(d),{target:N,currentTarget:k}=s;if(N===k&&v&&!S(p)){const B=new Event(pe,_o);if(k==null||k.dispatchEvent(B),!B.defaultPrevented){const w=r().filter(R=>R.focusable),y=w.find(R=>R.active),F=w.find(R=>R.id===S(n)),A=[y,F,...w].filter(Boolean).map(R=>R.ref);le(A)}}d.value=!1}),o=P(s=>{var v;(v=e.onBlur)==null||v.call(e,s)},()=>{p.value=!1}),u=(...s)=>{t("entryFocus",...s)};W(te,{currentTabbedId:Se(n),loop:V(e,"loop"),tabIndex:C(()=>S(p)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:c,orientation:V(e,"orientation"),dir:V(e,"dir"),onItemFocus:m,onItemShiftTab:g,onBlur:o,onFocus:I,onMousedown:b}),fe(()=>e.currentTabId,s=>{n.value=s??null}),ke(a,pe,u)}});function wo(e,t,i,n,p,d){return K(e.$slots,"default")}var Io=z(bo,[["render",wo],["__file","roving-focus-group-impl.vue"]]);const ho=M({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:uo,ElRovingFocusGroupImpl:Io}});function Eo(e,t,i,n,p,d){const a=_("el-roving-focus-group-impl"),r=_("el-focus-group-collection");return T(),L(r,null,{default:f(()=>[h(a,Oe(Pe(e.$attrs)),{default:f(()=>[K(e.$slots,"default")]),_:3},16)]),_:3})}var Co=z(ho,[["render",Eo],["__file","roving-focus-group.vue"]]);const yo=M({components:{ElRovingFocusCollectionItem:co},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:i,loop:n,onItemFocus:p,onItemShiftTab:d}=E(te,void 0),{getItems:a}=E(ne,void 0),r=Ie(),c=$(null),m=P(o=>{t("mousedown",o)},o=>{e.focusable?p(S(r)):o.preventDefault()}),g=P(o=>{t("focus",o)},()=>{p(S(r))}),b=P(o=>{t("keydown",o)},o=>{const{key:u,shiftKey:s,target:v,currentTarget:N}=o;if(u===G.tab&&s){d();return}if(v!==N)return;const k=mo(o);if(k){o.preventDefault();let w=a().filter(y=>y.focusable).map(y=>y.ref);switch(k){case"last":{w.reverse();break}case"prev":case"next":{k==="prev"&&w.reverse();const y=w.indexOf(N);w=n.value?go(w,y+1):w.slice(y+1);break}}De(()=>{le(w)})}}),I=C(()=>i.value===S(r));return W(Ee,{rovingFocusGroupItemRef:c,tabIndex:C(()=>S(I)?0:-1),handleMousedown:m,handleFocus:g,handleKeydown:b}),{id:r,handleKeydown:b,handleFocus:g,handleMousedown:m}}});function $o(e,t,i,n,p,d){const a=_("el-roving-focus-collection-item");return T(),L(a,{id:e.id,focusable:e.focusable,active:e.active},{default:f(()=>[K(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var To=z(yo,[["render",$o],["__file","roving-focus-item.vue"]]);const Z=Symbol("elDropdown"),{ButtonGroup:Fo}=be,Ro=M({name:"ElDropdown",components:{ElButton:be,ElButtonGroup:Fo,ElScrollbar:He,ElDropdownCollection:qe,ElTooltip:Je,ElRovingFocusGroup:Co,ElOnlyChild:We,ElIcon:ve,ArrowDown:Ne},props:Qe,emits:["visible-change","click","command"],setup(e,{emit:t}){const i=me(),n=oe("dropdown"),{t:p}=Ke(),d=$(),a=$(),r=$(null),c=$(null),m=$(null),g=$(null),b=$(!1),I=[G.enter,G.space,G.down],o=C(()=>({maxHeight:Be(e.maxHeight)})),u=C(()=>[n.m(y.value)]),s=C(()=>ao(e.trigger)),v=Ie().value,N=C(()=>e.id||v);fe([d,s],([l,O],[U])=>{var se,ae,ie;(se=U==null?void 0:U.$el)!=null&&se.removeEventListener&&U.$el.removeEventListener("pointerenter",D),(ae=l==null?void 0:l.$el)!=null&&ae.removeEventListener&&l.$el.removeEventListener("pointerenter",D),(ie=l==null?void 0:l.$el)!=null&&ie.addEventListener&&O.includes("hover")&&l.$el.addEventListener("pointerenter",D)},{immediate:!0}),Le(()=>{var l,O;(O=(l=d.value)==null?void 0:l.$el)!=null&&O.removeEventListener&&d.value.$el.removeEventListener("pointerenter",D)});function k(){B()}function B(){var l;(l=r.value)==null||l.onClose()}function w(){var l;(l=r.value)==null||l.onOpen()}const y=so();function F(...l){t("command",...l)}function D(){var l,O;(O=(l=d.value)==null?void 0:l.$el)==null||O.focus()}function A(){}function R(){const l=S(c);s.value.includes("hover")&&(l==null||l.focus()),g.value=null}function re(l){g.value=l}function J(l){b.value||(l.preventDefault(),l.stopImmediatePropagation())}function Y(){t("visible-change",!0)}function Te(l){(l==null?void 0:l.type)==="keydown"&&c.value.focus()}function Fe(){t("visible-change",!1)}return W(Z,{contentRef:c,role:C(()=>e.role),triggerId:N,isUsingKeyboard:b,onItemEnter:A,onItemLeave:R}),W("elDropdown",{instance:i,dropdownSize:y,handleClick:k,commandHandler:F,trigger:V(e,"trigger"),hideOnClick:V(e,"hideOnClick")}),{t:p,ns:n,scrollbar:m,wrapStyle:o,dropdownTriggerKls:u,dropdownSize:y,triggerId:N,triggerKeys:I,currentTabId:g,handleCurrentTabIdChange:re,handlerMainButtonClick:l=>{t("click",l)},handleEntryFocus:J,handleClose:B,handleOpen:w,handleBeforeShowTooltip:Y,handleShowTooltip:Te,handleBeforeHideTooltip:Fe,onFocusAfterTrapped:l=>{var O,U;l.preventDefault(),(U=(O=c.value)==null?void 0:O.focus)==null||U.call(O,{preventScroll:!0})},popperRef:r,contentRef:c,triggeringElementRef:d,referenceElementRef:a}}});function So(e,t,i,n,p,d){var a;const r=_("el-dropdown-collection"),c=_("el-roving-focus-group"),m=_("el-scrollbar"),g=_("el-only-child"),b=_("el-tooltip"),I=_("el-button"),o=_("arrow-down"),u=_("el-icon"),s=_("el-button-group");return T(),H("div",{class:X([e.ns.b(),e.ns.is("disabled",e.disabled)])},[h(b,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Me({content:f(()=>[h(m,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:f(()=>[h(c,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:f(()=>[h(r,null,{default:f(()=>[K(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:f(()=>[h(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:f(()=>[K(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(T(),L(s,{key:0},{default:f(()=>[h(I,j({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:f(()=>[K(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),h(I,j({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:f(()=>[h(u,{class:X(e.ns.e("icon"))},{default:f(()=>[h(o)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Q("v-if",!0)],2)}var ko=z(Ro,[["render",So],["__file","dropdown.vue"]]);const Oo=M({name:"DropdownItemImpl",components:{ElIcon:ve},props:we,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const i=oe("dropdown"),{role:n}=E(Z,void 0),{collectionItemRef:p}=E(xe,void 0),{collectionItemRef:d}=E(po,void 0),{rovingFocusGroupItemRef:a,tabIndex:r,handleFocus:c,handleKeydown:m,handleMousedown:g}=E(Ee,void 0),b=he(p,d,a),I=C(()=>n.value==="menu"?"menuitem":n.value==="navigation"?"link":"button"),o=P(u=>{const{code:s}=u;if(s===G.enter||s===G.space)return u.preventDefault(),u.stopImmediatePropagation(),t("clickimpl",u),!0},m);return{ns:i,itemRef:b,dataset:{[eo]:""},role:I,tabIndex:r,handleFocus:c,handleKeydown:o,handleMousedown:g}}});function Po(e,t,i,n,p,d){const a=_("el-icon");return T(),H(ge,null,[e.divided?(T(),H("li",{key:0,role:"separator",class:X(e.ns.bem("menu","item","divided"))},null,2)):Q("v-if",!0),x("li",j({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:r=>e.$emit("clickimpl",r),onFocus:e.handleFocus,onKeydown:ee(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:r=>e.$emit("pointermove",r),onPointerleave:r=>e.$emit("pointerleave",r)}),[e.icon?(T(),L(a,{key:0},{default:f(()=>[(T(),L(Ae(e.icon)))]),_:1})):Q("v-if",!0),K(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Do=z(Oo,[["render",Po],["__file","dropdown-item-impl.vue"]]);const Ce=()=>{const e=E("elDropdown",{}),t=C(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},No=M({name:"ElDropdownItem",components:{ElDropdownCollectionItem:oo,ElRovingFocusItem:To,ElDropdownItemImpl:Do},inheritAttrs:!1,props:we,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:i}){const{elDropdown:n}=Ce(),p=me(),d=$(null),a=C(()=>{var o,u;return(u=(o=S(d))==null?void 0:o.textContent)!=null?u:""}),{onItemEnter:r,onItemLeave:c}=E(Z,void 0),m=P(o=>(t("pointermove",o),o.defaultPrevented),ue(o=>{if(e.disabled){c(o);return}const u=o.currentTarget;u===document.activeElement||u.contains(document.activeElement)||(r(o),o.defaultPrevented||u==null||u.focus())})),g=P(o=>(t("pointerleave",o),o.defaultPrevented),ue(c)),b=P(o=>{if(!e.disabled)return t("click",o),o.type!=="keydown"&&o.defaultPrevented},o=>{var u,s,v;if(e.disabled){o.stopImmediatePropagation();return}(u=n==null?void 0:n.hideOnClick)!=null&&u.value&&((s=n.handleClick)==null||s.call(n)),(v=n.commandHandler)==null||v.call(n,e.command,p,o)}),I=C(()=>({...e,...i}));return{handleClick:b,handlePointerMove:m,handlePointerLeave:g,textContent:a,propsAndAttrs:I}}});function Ko(e,t,i,n,p,d){var a;const r=_("el-dropdown-item-impl"),c=_("el-roving-focus-item"),m=_("el-dropdown-collection-item");return T(),L(m,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:f(()=>[h(c,{focusable:!e.disabled},{default:f(()=>[h(r,j(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:f(()=>[K(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var ye=z(No,[["render",Ko],["__file","dropdown-item.vue"]]);const Bo=M({name:"ElDropdownMenu",props:no,setup(e){const t=oe("dropdown"),{_elDropdownSize:i}=Ce(),n=i.value,{focusTrapRef:p,onKeydown:d}=E(je,void 0),{contentRef:a,role:r,triggerId:c}=E(Z,void 0),{collectionRef:m,getItems:g}=E(to,void 0),{rovingFocusGroupRef:b,rovingFocusGroupRootStyle:I,tabIndex:o,onBlur:u,onFocus:s,onMousedown:v}=E(te,void 0),{collectionRef:N}=E(ne,void 0),k=C(()=>[t.b("menu"),t.bm("menu",n==null?void 0:n.value)]),B=he(a,m,p,b,N),w=P(F=>{var D;(D=e.onKeydown)==null||D.call(e,F)},F=>{const{currentTarget:D,code:A,target:R}=F;if(D.contains(R),G.tab===A&&F.stopImmediatePropagation(),F.preventDefault(),R!==S(a)||!lo.includes(A))return;const J=g().filter(Y=>!Y.disabled).map(Y=>Y.ref);ro.includes(A)&&J.reverse(),le(J)});return{size:n,rovingFocusGroupRootStyle:I,tabIndex:o,dropdownKls:k,role:r,triggerId:c,dropdownListWrapperRef:B,handleKeydown:F=>{w(F),d(F)},onBlur:u,onFocus:s,onMousedown:v}}});function Lo(e,t,i,n,p,d){return T(),H("ul",{ref:e.dropdownListWrapperRef,class:X(e.dropdownKls),style:Ge(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:ee(e.handleKeydown,["self"]),onMousedown:ee(e.onMousedown,["self"])},[K(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var $e=z(Bo,[["render",Lo],["__file","dropdown-menu.vue"]]);const Mo=ze(ko,{DropdownItem:ye,DropdownMenu:$e}),Ao=_e(ye),Go=_e($e),zo={class:"flex items-center gap-2 text-lg"},Qo=M({__name:"locale",setup(e){const t=Ue();function i(n){t.locale=n}return(n,p)=>{const d=Ao,a=Go,r=Mo;return T(),L(r,{trigger:"click"},{dropdown:f(()=>[h(a,null,{default:f(()=>[(T(!0),H(ge,null,Ye(n.$i18n.availableLocales,c=>(T(),L(d,{key:`locale-${c}`,onClick:m=>i(c)},{default:f(()=>[Ve(de(n.$t(`locale.${c}`)),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:f(()=>[x("div",zo,[h(S(Xe),{icon:"material-symbols:language"}),x("p",null,de(n.$t("language")),1)])]),_:1})}}});export{Ao as E,Qo as _,Go as a,Mo as b};
