import{p as Fe,M as q,_ as G,d as K,t as $,s as C,c as y,A as W,bV as Re,W as V,e as S,z as fe,aR as Se,r as D,X as b,o as T,h as B,i as f,a4 as E,bW as ke,bX as Oe,G as ve,v as Pe,a as oe,ae as De,af as Ne,C as Be,b as H,b4 as Ke,m as j,n as X,a0 as Q,K as me,E as Y,V as Le,Y as x,a8 as Me,ad as ee,J as ge,f as Ae,w as Ge,g as _e,a5 as ze,a3 as Ue,Z as Ve,$ as de}from"./index-CGWrNWMP.js";import{E as be}from"./el-button-COkJ7dDD.js";/* empty css                        */import{r as P,b as Ye,E as He,O as Je,w as ue,F as We}from"./el-scrollbar-B1CdvwA6.js";import{I as je}from"./iconify-BJI3uSh1.js";import{c as Xe,E as Ze,d as qe,a as we,C as Qe,b as xe,e as eo,f as oo,g as no,F as to,L as lo}from"./dropdown-DybRZsU7.js";import{a as Ie,b as ro}from"./index-Cbvrzi_3.js";import{c as so,a as he}from"./refs-DQ3eI1PF.js";const ao=Fe({style:{type:q([String,Array,Object])},currentTabId:{type:q(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:q(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:io,ElCollectionItem:uo,COLLECTION_INJECTION_KEY:ne,COLLECTION_ITEM_INJECTION_KEY:co}=Xe("RovingFocusGroup"),te=Symbol("elRovingFocusGroup"),Ee=Symbol("elRovingFocusGroupItem"),po={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},fo=(e,t)=>e,vo=(e,t,a)=>{const n=fo(e.code);return po[n]},mo=(e,t)=>e.map((a,n)=>e[(n+t)%e.length]),le=e=>{const{activeElement:t}=document;for(const a of e)if(a===t||(a.focus(),t!==document.activeElement))return},ce="currentTabIdChange",pe="rovingFocusGroup.entryFocus",go={bubbles:!1,cancelable:!0},_o=K({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:ao,emits:[ce,"entryFocus"],setup(e,{emit:t}){var a;const n=$((a=e.currentTabId||e.defaultCurrentTabId)!=null?a:null),p=$(!1),i=$(!1),s=$(null),{getItems:r}=C(ne,void 0),c=y(()=>[{outline:"none"},e.style]),m=u=>{t(ce,u)},_=()=>{p.value=!0},w=P(u=>{var v;(v=e.onMousedown)==null||v.call(e,u)},()=>{i.value=!0}),h=P(u=>{var v;(v=e.onFocus)==null||v.call(e,u)},u=>{const v=!S(i),{target:N,currentTarget:F}=u;if(N===F&&v&&!S(p)){const L=new Event(pe,go);if(F==null||F.dispatchEvent(L),!L.defaultPrevented){const g=r().filter(R=>R.focusable),k=g.find(R=>R.active),I=g.find(R=>R.id===S(n)),A=[k,I,...g].filter(Boolean).map(R=>R.ref);le(A)}}i.value=!1}),o=P(u=>{var v;(v=e.onBlur)==null||v.call(e,u)},()=>{p.value=!1}),d=(...u)=>{t("entryFocus",...u)};W(te,{currentTabbedId:Re(n),loop:V(e,"loop"),tabIndex:y(()=>S(p)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:c,orientation:V(e,"orientation"),dir:V(e,"dir"),onItemFocus:m,onItemShiftTab:_,onBlur:o,onFocus:h,onMousedown:w}),fe(()=>e.currentTabId,u=>{n.value=u??null}),Se(s,pe,d)}});function bo(e,t,a,n,p,i){return D(e.$slots,"default")}var wo=G(_o,[["render",bo],["__file","roving-focus-group-impl.vue"]]);const Io=K({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:io,ElRovingFocusGroupImpl:wo}});function ho(e,t,a,n,p,i){const s=b("el-roving-focus-group-impl"),r=b("el-focus-group-collection");return T(),B(r,null,{default:f(()=>[E(s,ke(Oe(e.$attrs)),{default:f(()=>[D(e.$slots,"default")]),_:3},16)]),_:3})}var Eo=G(Io,[["render",ho],["__file","roving-focus-group.vue"]]);const Z=Symbol("elDropdown"),{ButtonGroup:Co}=be,yo=K({name:"ElDropdown",components:{ElButton:be,ElButtonGroup:Co,ElScrollbar:Ye,ElDropdownCollection:Ze,ElTooltip:He,ElRovingFocusGroup:Eo,ElOnlyChild:Je,ElIcon:ve,ArrowDown:Pe},props:qe,emits:["visible-change","click","command"],setup(e,{emit:t}){const a=me(),n=oe("dropdown"),{t:p}=De(),i=$(),s=$(),r=$(null),c=$(null),m=$(null),_=$(null),w=$(!1),h=y(()=>({maxHeight:Ne(e.maxHeight)})),o=y(()=>[n.m(g.value)]),d=y(()=>so(e.trigger)),u=Ie().value,v=y(()=>e.id||u);fe([i,d],([l,O],[z])=>{var se,ae,ie;(se=z==null?void 0:z.$el)!=null&&se.removeEventListener&&z.$el.removeEventListener("pointerenter",I),(ae=l==null?void 0:l.$el)!=null&&ae.removeEventListener&&l.$el.removeEventListener("pointerenter",I),(ie=l==null?void 0:l.$el)!=null&&ie.addEventListener&&O.includes("hover")&&l.$el.addEventListener("pointerenter",I)},{immediate:!0}),Be(()=>{var l,O;(O=(l=i.value)==null?void 0:l.$el)!=null&&O.removeEventListener&&i.value.$el.removeEventListener("pointerenter",I)});function N(){F()}function F(){var l;(l=r.value)==null||l.onClose()}function L(){var l;(l=r.value)==null||l.onOpen()}const g=ro();function k(...l){t("command",...l)}function I(){var l,O;(O=(l=i.value)==null?void 0:l.$el)==null||O.focus()}function M(){}function A(){const l=S(c);d.value.includes("hover")&&(l==null||l.focus()),_.value=null}function R(l){_.value=l}function re(l){w.value||(l.preventDefault(),l.stopImmediatePropagation())}function J(){t("visible-change",!0)}function U(l){(l==null?void 0:l.type)==="keydown"&&c.value.focus()}function Te(){t("visible-change",!1)}return W(Z,{contentRef:c,role:y(()=>e.role),triggerId:v,isUsingKeyboard:w,onItemEnter:M,onItemLeave:A}),W("elDropdown",{instance:a,dropdownSize:g,handleClick:N,commandHandler:k,trigger:V(e,"trigger"),hideOnClick:V(e,"hideOnClick")}),{t:p,ns:n,scrollbar:m,wrapStyle:h,dropdownTriggerKls:o,dropdownSize:g,triggerId:v,currentTabId:_,handleCurrentTabIdChange:R,handlerMainButtonClick:l=>{t("click",l)},handleEntryFocus:re,handleClose:F,handleOpen:L,handleBeforeShowTooltip:J,handleShowTooltip:U,handleBeforeHideTooltip:Te,onFocusAfterTrapped:l=>{var O,z;l.preventDefault(),(z=(O=c.value)==null?void 0:O.focus)==null||z.call(O,{preventScroll:!0})},popperRef:r,contentRef:c,triggeringElementRef:i,referenceElementRef:s}}});function $o(e,t,a,n,p,i){var s;const r=b("el-dropdown-collection"),c=b("el-roving-focus-group"),m=b("el-scrollbar"),_=b("el-only-child"),w=b("el-tooltip"),h=b("el-button"),o=b("arrow-down"),d=b("el-icon"),u=b("el-button-group");return T(),H("div",{class:X([e.ns.b(),e.ns.is("disabled",e.disabled)])},[E(w,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(s=e.referenceElementRef)==null?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ke({content:f(()=>[E(m,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:f(()=>[E(c,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:f(()=>[E(r,null,{default:f(()=>[D(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:f(()=>[E(_,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:f(()=>[D(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(T(),B(u,{key:0},{default:f(()=>[E(h,j({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:f(()=>[D(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),E(h,j({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:f(()=>[E(d,{class:X(e.ns.e("icon"))},{default:f(()=>[E(o)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Q("v-if",!0)],2)}var To=G(yo,[["render",$o],["__file","dropdown.vue"]]);const Fo=K({components:{ElRovingFocusCollectionItem:uo},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:a,loop:n,onItemFocus:p,onItemShiftTab:i}=C(te,void 0),{getItems:s}=C(ne,void 0),r=Ie(),c=$(null),m=P(o=>{t("mousedown",o)},o=>{e.focusable?p(S(r)):o.preventDefault()}),_=P(o=>{t("focus",o)},()=>{p(S(r))}),w=P(o=>{t("keydown",o)},o=>{const{code:d,shiftKey:u,target:v,currentTarget:N}=o;if(d===Y.tab&&u){i();return}if(v!==N)return;const F=vo(o);if(F){o.preventDefault();let g=s().filter(k=>k.focusable).map(k=>k.ref);switch(F){case"last":{g.reverse();break}case"prev":case"next":{F==="prev"&&g.reverse();const k=g.indexOf(N);g=n.value?mo(g,k+1):g.slice(k+1);break}}Le(()=>{le(g)})}}),h=y(()=>a.value===S(r));return W(Ee,{rovingFocusGroupItemRef:c,tabIndex:y(()=>S(h)?0:-1),handleMousedown:m,handleFocus:_,handleKeydown:w}),{id:r,handleKeydown:w,handleFocus:_,handleMousedown:m}}});function Ro(e,t,a,n,p,i){const s=b("el-roving-focus-collection-item");return T(),B(s,{id:e.id,focusable:e.focusable,active:e.active},{default:f(()=>[D(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var So=G(Fo,[["render",Ro],["__file","roving-focus-item.vue"]]);const ko=K({name:"DropdownItemImpl",components:{ElIcon:ve},props:we,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const a=oe("dropdown"),{role:n}=C(Z,void 0),{collectionItemRef:p}=C(Qe,void 0),{collectionItemRef:i}=C(co,void 0),{rovingFocusGroupItemRef:s,tabIndex:r,handleFocus:c,handleKeydown:m,handleMousedown:_}=C(Ee,void 0),w=he(p,i,s),h=y(()=>n.value==="menu"?"menuitem":n.value==="navigation"?"link":"button"),o=P(d=>{if([Y.enter,Y.numpadEnter,Y.space].includes(d.code))return d.preventDefault(),d.stopImmediatePropagation(),t("clickimpl",d),!0},m);return{ns:a,itemRef:w,dataset:{[xe]:""},role:h,tabIndex:r,handleFocus:c,handleKeydown:o,handleMousedown:_}}});function Oo(e,t,a,n,p,i){const s=b("el-icon");return T(),H(ge,null,[e.divided?(T(),H("li",{key:0,role:"separator",class:X(e.ns.bem("menu","item","divided"))},null,2)):Q("v-if",!0),x("li",j({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:r=>e.$emit("clickimpl",r),onFocus:e.handleFocus,onKeydown:ee(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:r=>e.$emit("pointermove",r),onPointerleave:r=>e.$emit("pointerleave",r)}),[e.icon?(T(),B(s,{key:0},{default:f(()=>[(T(),B(Me(e.icon)))]),_:1})):Q("v-if",!0),D(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Po=G(ko,[["render",Oo],["__file","dropdown-item-impl.vue"]]);const Ce=()=>{const e=C("elDropdown",{}),t=y(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Do=K({name:"ElDropdownItem",components:{ElDropdownCollectionItem:eo,ElRovingFocusItem:So,ElDropdownItemImpl:Po},inheritAttrs:!1,props:we,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:a}){const{elDropdown:n}=Ce(),p=me(),i=$(null),s=y(()=>{var o,d;return(d=(o=S(i))==null?void 0:o.textContent)!=null?d:""}),{onItemEnter:r,onItemLeave:c}=C(Z,void 0),m=P(o=>(t("pointermove",o),o.defaultPrevented),ue(o=>{if(e.disabled){c(o);return}const d=o.currentTarget;d===document.activeElement||d.contains(document.activeElement)||(r(o),o.defaultPrevented||d==null||d.focus())})),_=P(o=>(t("pointerleave",o),o.defaultPrevented),ue(c)),w=P(o=>{if(!e.disabled)return t("click",o),o.type!=="keydown"&&o.defaultPrevented},o=>{var d,u,v;if(e.disabled){o.stopImmediatePropagation();return}(d=n==null?void 0:n.hideOnClick)!=null&&d.value&&((u=n.handleClick)==null||u.call(n)),(v=n.commandHandler)==null||v.call(n,e.command,p,o)}),h=y(()=>({...e,...a}));return{handleClick:w,handlePointerMove:m,handlePointerLeave:_,textContent:s,propsAndAttrs:h}}});function No(e,t,a,n,p,i){var s;const r=b("el-dropdown-item-impl"),c=b("el-roving-focus-item"),m=b("el-dropdown-collection-item");return T(),B(m,{disabled:e.disabled,"text-value":(s=e.textValue)!=null?s:e.textContent},{default:f(()=>[E(c,{focusable:!e.disabled},{default:f(()=>[E(r,j(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:f(()=>[D(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var ye=G(Do,[["render",No],["__file","dropdown-item.vue"]]);const Bo=K({name:"ElDropdownMenu",props:oo,setup(e){const t=oe("dropdown"),{_elDropdownSize:a}=Ce(),n=a.value,{focusTrapRef:p,onKeydown:i}=C(We,void 0),{contentRef:s,role:r,triggerId:c}=C(Z,void 0),{collectionRef:m,getItems:_}=C(no,void 0),{rovingFocusGroupRef:w,rovingFocusGroupRootStyle:h,tabIndex:o,onBlur:d,onFocus:u,onMousedown:v}=C(te,void 0),{collectionRef:N}=C(ne,void 0),F=y(()=>[t.b("menu"),t.bm("menu",n==null?void 0:n.value)]),L=he(s,m,p,w,N),g=P(I=>{var M;(M=e.onKeydown)==null||M.call(e,I)},I=>{const{currentTarget:M,code:A,target:R}=I;if(M.contains(R),Y.tab===A&&I.stopImmediatePropagation(),I.preventDefault(),R!==S(s)||!to.includes(A))return;const J=_().filter(U=>!U.disabled).map(U=>U.ref);lo.includes(A)&&J.reverse(),le(J)});return{size:n,rovingFocusGroupRootStyle:h,tabIndex:o,dropdownKls:F,role:r,triggerId:c,dropdownListWrapperRef:L,handleKeydown:I=>{g(I),i(I)},onBlur:d,onFocus:u,onMousedown:v}}});function Ko(e,t,a,n,p,i){return T(),H("ul",{ref:e.dropdownListWrapperRef,class:X(e.dropdownKls),style:Ae(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:ee(e.handleKeydown,["self"]),onMousedown:ee(e.onMousedown,["self"])},[D(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var $e=G(Bo,[["render",Ko],["__file","dropdown-menu.vue"]]);const Lo=Ge(To,{DropdownItem:ye,DropdownMenu:$e}),Mo=_e(ye),Ao=_e($e),Go={class:"flex items-center gap-2 text-lg"},qo=K({__name:"locale",setup(e){const t=ze();function a(n){t.locale=n}return(n,p)=>{const i=Mo,s=Ao,r=Lo;return T(),B(r,{trigger:"click"},{dropdown:f(()=>[E(s,null,{default:f(()=>[(T(!0),H(ge,null,Ue(n.$i18n.availableLocales,c=>(T(),B(i,{key:`locale-${c}`,onClick:m=>a(c)},{default:f(()=>[Ve(de(n.$t(`locale.${c}`)),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:f(()=>[x("div",Go,[E(S(je),{icon:"material-symbols:language"}),x("p",null,de(n.$t("language")),1)])]),_:1})}}});export{Mo as E,qo as _,Ao as a,Lo as b};
