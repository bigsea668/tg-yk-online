import{g as ze,c as De,d as Ue,e as Pe,f as He,p as je,h as Qe,_ as Be,s as Ge,E as Oe,a as Je}from"./el-step-DN_0vMak.js";import{d as P,z as te,t as m,H as U,e,o as n,h as f,i as a,a4 as t,Z as i,$ as h,Y as d,b as N,B as ce,J,a3 as ee,a0 as T,aa as X,aB as qe,a9 as ve,I as W,n as ke,ad as ge,V as Ye}from"./index-2a2bri-d.js";import{v as Y,b as Ze}from"./el-select-Dz2KJnwc.js";import{E as Ke,a as We}from"./el-form-item-DzHjpJCN.js";import"./el-tooltip-l0sNRNKZ.js";import{b as pe,E as Xe}from"./el-scrollbar-CXPZY7Bs.js";import{E as et}from"./el-input-DOfSdrh_.js";/* empty css                        */import{E as me}from"./el-empty-CaAJ-98P.js";import{E as ae,a as be}from"./el-button-D_fjb_vJ.js";import{E as se,a as le}from"./el-table-column-BN4sCq-k.js";import"./el-checkbox-CMe2Q5Jf.js";import"./el-tag-BySgfF3p.js";import{c as tt}from"./im-DDAOu1MQ.js";import{_ as at}from"./accountList.vue_vue_type_script_setup_true_lang-BLpQhr_P.js";import{a as st,e as lt}from"./material-CaO01XEC.js";import{a as A,g as F,b as ue,c as de}from"./task.StatusEnum-DkKhLcsQ.js";import{E as oe}from"./index-rGSOovlF.js";import{E as ot}from"./el-link-BO8FGk0Q.js";import{c as nt}from"./utils-DaTdCYcK.js";import{I as q}from"./iconify-BO38E5Xh.js";import{_ as rt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./el-upload-DvftR1ML.js";import"./index-3_ES5SxW.js";import"./refs-CTMQh0bL.js";import"./_Uint8Array-BA5rhpUc.js";import"./_initCloneObject-BSnmcygP.js";import"./account.StatusEnum-CqjSWtZY.js";const it=P({__name:"contactList",props:["currentAccId"],emits:["listPhones"],setup(M,{emit:V}){const L=M,g=V;te(()=>L.currentAccId,()=>{$()});const b=m(!1),C=m([]);function $(){b.value=!0;const s={id:L.currentAccId};tt(s).then(o=>{try{C.value=o.data.data}catch(v){console.log(v)}}).catch(o=>{console.log("联系人列表失败",o)}).finally(()=>{b.value=!1})}const c=m(),u=m([]),y=s=>{u.value=s;const o=s.map(v=>v.phone);g("listPhones",o)},r=s=>{u.value.some(v=>v===s)?c.value.toggleRowSelection(s,!1):c.value.toggleRowSelection(s,!0)};return(s,o)=>{const v=se,S=le,w=Y;return U((n(),f(S,{ref_key:"conListRef",ref:c,"empty-text":"请先选择账号","element-loading-text":"正在获取联系人列表...",data:e(C),style:{width:"210px"},onSelectionChange:y,onRowClick:r},{default:a(()=>[t(v,{type:"selection",width:"30"}),t(v,null,{default:a(_=>[i(" 昵称："+h(_.row.userName?_.row.userName:_.row.firstName??""+_.row.lastName??"")+" ",1),o[0]||(o[0]=d("br",null,null,-1)),i(" 号码："+h(_.row.phone),1)]),_:1})]),_:1},8,["data"])),[[w,e(b)]])}}}),ut=P({__name:"contactMaterial",props:["currentAccId"],emits:["materialPhone"],setup(M,{emit:V}){const L=M,g=V;te(()=>L.currentAccId,()=>{C()});const b=m([]);function C(){st({GroupId:0}).then(s=>{try{b.value=s.data.data.data}catch(o){console.log(o)}}).catch(s=>{console.log("查询联系人素材失败",s)})}const $=m(),c=m([]),u=r=>{c.value=r;const s=r.map(o=>String(o.phone));g("materialPhone",s)},y=r=>{c.value.some(o=>o===r)?$.value.toggleRowSelection(r,!1):$.value.toggleRowSelection(r,!0)};return(r,s)=>{const o=se,v=le;return n(),N("div",null,[t(v,{ref_key:"conMaterialRef",ref:$,"empty-text":"请先选择账号",data:e(b),style:{width:"200px"},onSelectionChange:u,onRowClick:y},{default:a(()=>[t(o,{type:"selection",width:"30"}),t(o,null,{default:a(S=>[i(" 昵称："+h(S.row.userName)+" ",1),s[0]||(s[0]=d("br",null,null,-1)),i(" 号码："+h(S.row.phone),1)]),_:1})]),_:1},8,["data"])])}}}),dt={class:"my-2 p-1",style:{border:"1px dashed #ccc"}},ct={class:"w-1/4 ml-1"},pt=P({__name:"historyTask",emits:["historyTaskId","getHistoryTaskList"],setup(M,{emit:V}){const L=V,g=m(!1),b="https://t.me/",C=m([]);function $(){g.value=!0,ze({taskType:0}).then(r=>{try{C.value=r.data.data.map(s=>({id:s.id,name:s.name,type:s.type,userId:s.userId,status:s.status,createTime:s.createTime,endTime:s.endTime,totalMumberTasks:s.totalMumberTasks,completedQuantity:s.completedQuantity,task_data:s.task_data?JSON.parse(s.task_data):null,userNameURL:s.task_data?b+JSON.parse(s.task_data).MainUsername:null}))}catch(s){console.log(s)}}).catch(r=>{console.log("获取任务失败",r)}).finally(()=>{g.value=!1})}function c(y){L("historyTaskId",y.id),L("getHistoryTaskList")}function u(y,r){if(r===0)return"0%";const s=Number(y)/Number(r)*100;return Number.isNaN(s)?"0%":s===100?F(A.Completed):`${s.toFixed(2)}%`}return ce(()=>{$()}),(y,r)=>{const s=ae,o=oe,v=pe,S=me,w=Y;return n(),N("div",null,[r[0]||(r[0]=d("div",{class:"mb-4 p-2 px-4",style:{"border-left":"5px solid #409eff"}},"历史群发任务列表",-1)),U((n(),N("div",dt,[e(C).length!==0?(n(),f(v,{key:0,class:"w-full overflow-y-auto",style:{height:"35vh"}},{default:a(()=>[(n(!0),N(J,null,ee(e(C),(_,z)=>(n(),N("div",{key:z,class:"p-0.5 flex justify-between"},[t(s,{type:"primary",plain:"",onClick:I=>c(_),class:"w-3/4"},{default:a(()=>[i(h(_.name),1)]),_:2},1032,["onClick"]),d("div",ct,[_.status===e(A).Stop?(n(),f(o,{key:0,type:"danger"},{default:a(()=>[i(h(e(F)(_.status)),1)]),_:2},1024)):T("",!0),_.status===e(A).Run?(n(),f(o,{key:1,type:"primary"},{default:a(()=>[i(h(u(_.completedQuantity,_.totalMumberTasks)),1)]),_:2},1024)):T("",!0),_.status===e(A).Pause?(n(),f(o,{key:2,type:"warning"},{default:a(()=>[i(h(e(F)(_.status)),1)]),_:2},1024)):T("",!0),_.status===e(A).Completed?(n(),f(o,{key:3,type:"success"},{default:a(()=>[i(h(e(F)(_.status)),1)]),_:2},1024)):T("",!0),_.status===e(A).DoesNotExist?(n(),f(o,{key:4,type:"warning"},{default:a(()=>[i(h(e(F)(_.status)),1)]),_:2},1024)):T("",!0),_.status===e(A).Error?(n(),f(o,{key:5,type:"danger"},{default:a(()=>[i(h(e(F)(_.status)),1)]),_:2},1024)):T("",!0)])]))),128))]),_:1})):T("",!0),e(C).length===0?(n(),f(S,{key:1,description:"暂无数据"})):T("",!0)])),[[w,e(g)]])])}}}),mt={class:"flex justify-between items-center"},ft=P({__name:"taskTable",props:["taskId"],setup(M){const V=M,L="https://t.me/",g=m(!1);te(()=>V.taskId,()=>{C()});const b=m([]);function C(){g.value=!0;const c={id:V.taskId};De(c).then(u=>{try{b.value=u.data.data}catch(y){console.log(y)}}).catch(u=>{console.log("获取任务详情失败",u)}).finally(()=>{g.value=!1})}function $(c){nt(L,c)}return(c,u)=>{const y=se,r=oe,s=ot,o=ae,v=le,S=Y;return n(),N("div",null,[u[5]||(u[5]=d("div",{class:"mb-4 p-2 px-4",style:{"border-left":"5px solid #409eff"}},"数据表单",-1)),U((n(),f(v,{data:e(b),border:"",style:{width:"100%"}},{default:a(()=>[t(y,{prop:"userName",label:"名称",width:"180"},{default:a(w=>[i(h(w.row.userName),1)]),_:1}),t(y,{prop:"isActive",label:"是否活跃",width:"100"},{default:a(w=>[w.row.isActive?(n(),f(r,{key:0,type:"success",size:"large"},{default:a(()=>u[0]||(u[0]=[i("活跃")])),_:1})):(n(),f(r,{key:1,type:"info",size:"large"},{default:a(()=>u[1]||(u[1]=[i("不活跃")])),_:1}))]),_:1}),t(y,{prop:"isFriend",label:"是否为好友",width:"100"},{default:a(w=>[w.row.isFriend?(n(),f(r,{key:0,type:"success",size:"large"},{default:a(()=>u[2]||(u[2]=[i("是")])),_:1})):(n(),f(r,{key:1,type:"info",size:"large"},{default:a(()=>u[3]||(u[3]=[i("否")])),_:1}))]),_:1}),t(y,{prop:"sendStatus",label:"发送状态",width:"90"},{default:a(w=>[w.row.sendStatus===e(ue).Fail?(n(),f(r,{key:0,type:"danger",size:"large"},{default:a(()=>[i(h(e(de)(w.row.sendStatus)),1)]),_:2},1024)):w.row.sendStatus===e(ue).Success?(n(),f(r,{key:1,type:"success",size:"large"},{default:a(()=>[i(h(e(de)(w.row.sendStatus)),1)]),_:2},1024)):w.row.sendStatus===e(ue).Default?(n(),f(r,{key:2,type:"warning",size:"large"},{default:a(()=>[i(h(e(de)(w.row.sendStatus)),1)]),_:2},1024)):T("",!0)]),_:1}),t(y,{prop:"phone",label:"手机号码",width:"140"}),t(y,{prop:"mainName",label:"用户链接"},{default:a(w=>[d("div",mt,[t(s,{type:"primary",href:`${e(L)}${w.row.mainName}`,target:"_blank"},{default:a(()=>[i(h(w.row.mainName),1)]),_:2},1032,["href"]),t(o,{onClick:_=>$(w.row.mainName)},{default:a(()=>u[4]||(u[4]=[i("复制用户链接")])),_:2},1032,["onClick"])])]),_:1}),t(y,{prop:"last5eenAgo",label:"最近活跃时间",width:"180"}),t(y,{prop:"createTime",label:"创建时间",width:"180"})]),_:1},8,["data"])),[[S,e(g)]])])}}}),_t=P({__name:"historyTaskTable",props:["historyTaskId"],setup(M,{expose:V}){const L=M;V({tsaskDetailFun:C});const g=m(!1),b=m([]);function C(){g.value=!0;const $={id:L.historyTaskId};Ue($).then(c=>{try{b.value=c.data.data.massSendings}catch(u){console.log(u)}}).catch(c=>{console.log("获取历史任务失败",c)}).finally(()=>{g.value=!1})}return($,c)=>{const u=se,y=oe,r=le,s=Y;return n(),N("div",null,[c[4]||(c[4]=d("div",{class:"mb-4 p-2 px-4",style:{"border-left":"5px solid #409eff"}},"数据表单",-1)),U((n(),f(r,{data:e(b),border:"",style:{width:"100%"}},{default:a(()=>[t(u,{prop:"userName",label:"名称"}),t(u,{prop:"phone",label:"手机号码"}),t(u,{prop:"mainName",label:"用户链接"}),t(u,{prop:"isActive",label:"是否活跃"},{default:a(o=>[o.row.isActive?(n(),f(y,{key:0,type:"success",size:"large"},{default:a(()=>c[0]||(c[0]=[i("活跃")])),_:1})):(n(),f(y,{key:1,type:"info",size:"large"},{default:a(()=>c[1]||(c[1]=[i("不活跃")])),_:1}))]),_:1}),t(u,{prop:"isFriend",label:"是否为好友"},{default:a(o=>[o.row.isFriend?(n(),f(y,{key:0,type:"success",size:"large"},{default:a(()=>c[2]||(c[2]=[i("是")])),_:1})):(n(),f(y,{key:1,type:"info",size:"large"},{default:a(()=>c[3]||(c[3]=[i("否")])),_:1}))]),_:1}),t(u,{prop:"sendStatus",label:"发送状态"}),t(u,{prop:"lastSeenAgo",label:"近期活跃"}),t(u,{prop:"status",label:"状态"}),t(u,{prop:"createTime",label:"创建时间"})]),_:1},8,["data"])),[[s,e(g)]])])}}}),yt={class:"my-2 p-1",style:{border:"1px dashed #ccc"}},vt={class:"flex justify-between items-center"},kt=P({__name:"runningTask",emits:["taskQueueId"],setup(M,{emit:V}){const L=V,g=m(!1),b=m([]);function C(){g.value=!0,Pe({taskType:0}).then(s=>{try{b.value=Object.values(s.data.data).map(o=>({taskId:o.taskId,minCount:o.minCount,maxCount:o.maxCount,maxTime:o.maxTime,taskStatus:o.taskStatus,createTime:o.createTime,maxEndTime:o.maxEndTime,taskName:o.taskName}))}catch(o){console.log(o)}}).catch(s=>{console.log("获取任务失败",s)}).finally(()=>{g.value=!1})}function $(r){console.log("选择运行任务",r),L("taskQueueId",r.taskId)}function c(r){const s={Id:r.taskId};He(s).then(o=>{X.success("运行任务成功"),C()}).catch(o=>{console.log("运行任务失败",o)})}function u(r){const s={Id:r.taskId};je(s).then(o=>{X.success("暂停任务成功"),C()}).catch(o=>{console.log("暂停任务失败",o)})}function y(r){const s={Id:r.taskId};Qe(s).then(o=>{X.success("停止任务成功"),C()}).catch(o=>{console.log("停止任务失败",o)})}return ce(()=>{C()}),(r,s)=>{const o=ae,v=oe,S=be,w=pe,_=me,z=Y;return n(),N("div",null,[s[3]||(s[3]=d("div",{class:"mb-4 p-2 px-4",style:{"border-left":"5px solid #409eff"}},"运行中的任务列表",-1)),U((n(),N("div",yt,[e(b).length!==0?(n(),f(w,{key:0,class:"w-full overflow-y-auto",style:{height:"35vh"}},{default:a(()=>[(n(!0),N(J,null,ee(e(b),(I,Q)=>(n(),N("div",{key:Q,class:"p-0.5 mb-1"},[d("div",vt,[t(o,{type:"primary",plain:"",onClick:B=>$(I)},{default:a(()=>[i(h(I.taskName?I.taskName:"未知名称"),1)]),_:2},1032,["onClick"]),d("div",null,[I.taskStatus===e(A).Stop?(n(),f(v,{key:0,type:"danger"},{default:a(()=>[i(h(e(F)(I.taskStatus)),1)]),_:2},1024)):T("",!0),I.taskStatus===e(A).Run?(n(),f(v,{key:1,type:"primary"},{default:a(()=>[i(h(e(F)(I.taskStatus)),1)]),_:2},1024)):T("",!0),I.taskStatus===e(A).Pause?(n(),f(v,{key:2,type:"warning"},{default:a(()=>[i(h(e(F)(I.taskStatus)),1)]),_:2},1024)):T("",!0),I.taskStatus===e(A).Completed?(n(),f(v,{key:3,type:"success"},{default:a(()=>[i(h(e(F)(I.taskStatus)),1)]),_:2},1024)):T("",!0),I.taskStatus===e(A).DoesNotExist?(n(),f(v,{key:4,type:"warning"},{default:a(()=>[i(h(e(F)(I.taskStatus)),1)]),_:2},1024)):T("",!0),I.taskStatus===e(A).Error?(n(),f(v,{key:5,type:"danger"},{default:a(()=>[i(h(e(F)(I.taskStatus)),1)]),_:2},1024)):T("",!0)])]),d("div",null,[t(S,{class:"w-full"},{default:a(()=>[t(o,{type:"primary",size:"small",class:"w-1/3",onClick:B=>c(I)},{default:a(()=>[t(e(q),{icon:"bxs:file"}),s[0]||(s[0]=i(" 运行 "))]),_:2},1032,["onClick"]),t(o,{type:"primary",size:"small",class:"w-1/3",onClick:B=>u(I)},{default:a(()=>[t(e(q),{icon:"bxs:file"}),s[1]||(s[1]=i(" 暂停 "))]),_:2},1032,["onClick"]),t(o,{type:"primary",size:"small",class:"w-1/3",onClick:B=>y(I)},{default:a(()=>[t(e(q),{icon:"bxs:file"}),s[2]||(s[2]=i(" 停止 "))]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))]),_:1})):T("",!0),e(b).length===0?(n(),f(_,{key:1,description:"暂无数据"})):T("",!0)])),[[z,e(g)]])])}}}),gt={class:"grid grid-cols-12 gap-4 mt-1"},bt={class:"col-span-2 bg-white rounded-md p-4"},ht={class:"col-span-10 bg-white rounded-md p-4",style:{height:"91vh"}},wt={class:"mb-2 pb-2",style:{"border-bottom":"1px dashed #ccc"}},xt={key:0,class:"mt-4"},Tt={class:"mt-4 pt-4",style:{"border-top":"1px dashed #ccc"}},St={class:"mt-4"},It={class:"w-full"},Ct={class:"font-bold mb-1 mt-1 pb-2"},Et={class:"flex w-full"},Nt={class:"w-1/2 mr-2 h-full",style:{"border-right":"1px solid #ccc"}},Lt={class:"w-1/2 mr-2",style:{"border-right":"1px solid #ccc"}},$t={class:"mt-4 pt-4",style:{"border-top":"1px dashed #ccc"}},Vt={class:"mt-4"},At={class:"w-full"},Ft={class:"flex justify-between"},Mt={class:"flex items-center mt-2 relative"},Rt={style:{"word-wrap":"break-word"}},zt=["onClick"],Dt={class:""},Ut={class:"ml-4"},Pt={class:"flex items-center h-8 w-64 overflow-hidden whitespace-nowrap truncate"},Ht=["onClick"],jt={class:"mt-4 pt-4",style:{"border-top":"1px dashed #ccc"}},Qt=P({__name:"massTasks",setup(M){const V=m();function L(){Ye(()=>{V.value.tsaskDetailFun()})}const g=m(null),b=m(null);function C(p){b.value=p,console.log("历史任务id",b.value)}function $(p){g.value=p,console.log("运行任务id",g.value)}const c=m(0),u=m();function y(p){u.value=p}const r=m(!1);function s(){r.value=!0,c.value=0}function o(){r.value=!1,S.value=0,c.value=0}const v=m("conSend"),S=m(0);function w(){S.value++,c.value=u.value}const _=m(""),z=m([]);function I(){S.value++;const p=[...z.value,...Q.value,...ne.value,..._.value.split(/\r?\n/).map(k=>k.trim()).filter(k=>k!=="")],l=Array.from(new Set(p));z.value=l,console.log("合并后的电话号码：",z.value)}const Q=m([]);function B(p){Q.value=p}const ne=m([]);function he(p){ne.value=p}const E=m({remark:"",maxSendNumber:"",text:"",minIntervalTime:0,maxIntervalTime:0}),re=m(!1);function we(){re.value=!0}const R=m(),D=m();function xe(p,l,k,Z){re.value=p,k.length>0&&Z.length>0&&(Array.isArray(R.value)||(R.value=[]),Array.isArray(D.value)||(D.value=[]),R.value=[...R.value,...k],D.value=[...D.value,...Z])}function Te(p){R.value&&D.value&&(R.value.splice(p,1),D.value.splice(p,1))}const H=m(!0);function Se(){H.value=!H.value}function fe(){H.value=!0}function _e(p){p.target.closest("#emoji-input")||p.target.closest('label[for="emoji-label"]')||fe()}te(()=>H.value,()=>{H.value===!1&&Ie()});const ye=m([]);function Ie(){lt({GroupId:0}).then(l=>{ye.value=l.data.data.data}).catch(l=>{console.log("查询话术失败",l)})}function Ce(p){E.value.text=E.value.text+p,fe()}function Ee(){var l;const p=new FormData;p.append("id",u.value),p.append("maxSendNumber",E.value.maxSendNumber),p.append("remark",E.value.remark),p.append("msg",E.value.text),p.append("minIntervalTime",String(E.value.minIntervalTime)),p.append("maxIntervalTime",String(E.value.maxIntervalTime)),R.value&&R.value.forEach(k=>{p.append("files.UrlFiles",k)}),D.value&&D.value.forEach(k=>{p.append("files.UrlFileTypes",k)}),(l=z.value)==null||l.forEach(k=>{p.append("phones",k)}),Ge(p).then(k=>{console.log("群发成功",k.data),X.success("群发成功")}).catch(k=>{console.log("群发失败",k)}),Ne()}function Ne(){u.value=null,E.value={text:"",maxSendNumber:"",remark:"",minIntervalTime:0,maxIntervalTime:0},R.value=[],D.value=[],z.value=[],r.value=!1,S.value=0}return ce(()=>{document.addEventListener("click",_e)}),qe(()=>{document.removeEventListener("click",_e)}),(p,l)=>{const k=ae,Z=me,ie=Oe,Le=Je,G=pe,$e=be,j=et,O=Ke,Ve=Xe,Ae=We,Fe=Ze,Me=Be;return n(),N(J,null,[d("div",gt,[d("div",bt,[t(pt,{onHistoryTaskId:C,onGetHistoryTaskList:L}),t(kt,{onTaskQueueId:$})]),d("div",ht,[d("div",wt,[t(k,{type:"primary",plain:"",onClick:s},{default:a(()=>l[12]||(l[12]=[i("发起任务")])),_:1})]),d("div",null,[e(g)?(n(),f(ft,{key:0,taskId:e(g)},null,8,["taskId"])):T("",!0),e(b)?(n(),f(_t,{key:1,ref_key:"historyTaskRef",ref:V,historyTaskId:e(b)},null,8,["historyTaskId"])):T("",!0),!e(g)&&!e(b)?(n(),f(Z,{key:2,description:"暂无数据"})):T("",!0)])])]),t(Fe,{modelValue:e(r),"onUpdate:modelValue":l[11]||(l[11]=x=>ve(r)?r.value=x:null),title:"发起任务",width:"600",onClose:o},{default:a(()=>[t(Le,{style:{"max-width":"600px"},active:e(S),"finish-status":"success"},{default:a(()=>[t(ie,{title:"选择账号"}),t(ie,{title:"选择联系人"}),t(ie,{title:"任务参数"})]),_:1},8,["active"]),e(S)===0?(n(),N("div",xt,[t(G,{class:"w-full overflow-y-auto",style:{height:"30vh"}},{default:a(()=>[t(at,{onAccountId:y})]),_:1}),d("div",Tt,[t(k,{type:"primary",plain:"",onClick:w,disabled:!e(u)},{default:a(()=>l[13]||(l[13]=[i("下一步")])),_:1},8,["disabled"])])])):T("",!0),U(d("div",St,[t($e,{class:"w-full mb-2 pb-2",style:{"border-bottom":"1px solid #ccc"}},{default:a(()=>[t(k,{class:ke(["w-1/2",{active:e(v)==="conSend"}]),type:"primary",plain:"",onClick:l[0]||(l[0]=x=>v.value="conSend")},{default:a(()=>l[14]||(l[14]=[i(" 手动输入 ")])),_:1},8,["class"]),t(k,{class:ke(["w-1/2",{active:e(v)==="conList"}]),type:"primary",plain:"",onClick:l[1]||(l[1]=x=>v.value="conList")},{default:a(()=>l[15]||(l[15]=[i(" 从文件导入 ")])),_:1},8,["class"])]),_:1}),U(d("div",It,[d("div",Ct,[l[16]||(l[16]=d("span",{class:"mb-1"},"电话号码",-1)),t(j,{type:"textarea",rows:5,modelValue:e(_),"onUpdate:modelValue":l[2]||(l[2]=x=>ve(_)?_.value=x:null),placeholder:"请输入手机号，一行一个手机号码"},null,8,["modelValue"])])],512),[[W,e(v)==="conSend"]]),U(d("div",Et,[d("div",Nt,[l[17]||(l[17]=d("div",{class:"font-bold mb-2"},"联系人列表",-1)),t(G,{class:"w-full overflow-y-auto",style:{height:"22vh"}},{default:a(()=>[t(it,{currentAccId:e(c),onListPhones:B},null,8,["currentAccId"])]),_:1})]),d("div",Lt,[l[18]||(l[18]=d("div",{class:"font-bold mb-2"},"联系人素材",-1)),t(G,{class:"w-full overflow-y-auto",style:{height:"22vh"}},{default:a(()=>[t(ut,{currentAccId:e(c),onMaterialPhone:he},null,8,["currentAccId"])]),_:1})])],512),[[W,e(v)==="conList"]]),d("div",$t,[t(k,{type:"primary",plain:"",onClick:l[3]||(l[3]=x=>S.value--)},{default:a(()=>l[19]||(l[19]=[i("上一步")])),_:1}),t(k,{type:"primary",plain:"",onClick:I,disabled:!(e(Q).length||e(ne).length||e(_))},{default:a(()=>l[20]||(l[20]=[i("下一步")])),_:1},8,["disabled"])])],512),[[W,e(S)===1]]),U(d("div",Vt,[d("div",At,[t(Ae,{model:e(E),"status-icon":"","label-width":"auto",class:"demo-ruleForm"},{default:a(()=>[t(O,{label:"任务备注"},{default:a(()=>[t(j,{modelValue:e(E).remark,"onUpdate:modelValue":l[4]||(l[4]=x=>e(E).remark=x),type:"text"},null,8,["modelValue"])]),_:1}),t(O,{label:"最大发送人数"},{default:a(()=>[t(j,{modelValue:e(E).maxSendNumber,"onUpdate:modelValue":l[5]||(l[5]=x=>e(E).maxSendNumber=x),type:"text"},null,8,["modelValue"])]),_:1}),t(O,{label:"消息间隔时间（随机）","label-width":"180px"},{default:a(()=>[d("div",Ft,[t(j,{modelValue:e(E).minIntervalTime,"onUpdate:modelValue":l[6]||(l[6]=x=>e(E).minIntervalTime=x),placeholder:"请输入间隔最小时间",clearable:"",style:{width:"150px"}},null,8,["modelValue"]),l[21]||(l[21]=d("span",{class:"mx-2"}," 秒~",-1)),t(j,{modelValue:e(E).maxIntervalTime,"onUpdate:modelValue":l[7]||(l[7]=x=>e(E).maxIntervalTime=x),placeholder:"请输入间隔最大时间",clearable:"",style:{width:"150px"}},null,8,["modelValue"]),l[22]||(l[22]=d("span",{class:"mx-2"}," 秒",-1))])]),_:1}),t(O,{label:"消息内容"},{default:a(()=>[t(j,{modelValue:e(E).text,"onUpdate:modelValue":l[8]||(l[8]=x=>e(E).text=x),type:"textarea",rows:4},null,8,["modelValue"]),d("div",Mt,[t(k,{type:"primary",class:"text-sm",onClick:ge(Se,["stop"])},{default:a(()=>l[23]||(l[23]=[i("选择快捷消息")])),_:1}),e(H)?T("",!0):(n(),N("div",{key:0,id:"emoji-input",class:"absolute -bottom-32 -left-20 h-32 bg-white border border-gray-300 rounded-lg shadow-lg z-10",style:{width:"580px"},onClick:l[9]||(l[9]=ge(()=>{},["stop"]))},[t(G,{style:{height:"18vh"}},{default:a(()=>[d("div",Rt,[(n(!0),N(J,null,ee(e(ye),(x,K)=>(n(),N("div",{key:K,class:"inline-block text-xs mx-1 px-2 py-1 my-1 rounded-md shadow-md duration-300 cursor-pointer hover:bg-sky-500",style:{border:"1px solid #ccc",display:"inline-block"},onClick:Re=>Ce(x.msg)},[d("span",Dt,h(x.msg),1)],8,zt))),128))])]),_:1})])),d("div",Ut,[t(k,{type:"success"},{default:a(()=>l[24]||(l[24]=[i("选择名片")])),_:1})])])]),_:1}),t(O,{label:"选择文件"},{default:a(()=>[d("div",null,[t(k,{type:"primary",plain:"",onClick:we},{default:a(()=>l[25]||(l[25]=[i("选择文件")])),_:1}),d("div",null,[t(G,{class:"w-full overflow-hidden",style:{height:"10vh"}},{default:a(()=>[(n(!0),N(J,null,ee(e(R),(x,K)=>(n(),N("div",{key:K,class:"flex items-center justify-between font-thin text-cyan-500",style:{border:"1px dashed #ccc"}},[t(e(q),{icon:"bxs:file"}),t(Ve,{class:"box-item",effect:"dark",content:x,placement:"bottom"},{default:a(()=>[d("span",Pt,h(x),1)]),_:2},1032,["content"]),d("span",{type:"danger",plain:"",onClick:Re=>Te(K)},[t(e(q),{icon:"mynaui:delete-solid",class:"hover:text-red-500 cursor-pointer",style:{"font-size":"22px"}})],8,Ht)]))),128))]),_:1})])])]),_:1})]),_:1},8,["model"])]),d("div",jt,[t(k,{type:"primary",plain:"",onClick:l[10]||(l[10]=x=>S.value--)},{default:a(()=>l[26]||(l[26]=[i("上一步")])),_:1}),t(k,{type:"primary",plain:"",onClick:Ee},{default:a(()=>l[27]||(l[27]=[i("启动任务")])),_:1})])],512),[[W,e(S)===2]])]),_:1},8,["modelValue"]),t(Me,{show:e(re),isLocal:!1,onDeliver:xe},null,8,["show"])],64)}}}),ka=rt(Qt,[["__scopeId","data-v-2d7b5d0b"]]);export{ka as default};
